class e{constructor(){this.dockedQty=0,this.dockedEl=new Set,this.dragBarHeight=40,this.handleMinimize=e=>{const t=e.target,i={top:t.style.top,left:t.style.left};t.dataset.initialPos=JSON.stringify(i),t.style.top=`${window.innerHeight-this.dragBarHeight-20}px`,t.style.left=`${20*this.dockedQty}px`,this.dockedQty++,this.dockedEl.add(t)},this.handleMaximize=e=>{const t=e.target;this.dockedQty--,this.dockedEl.delete(t);const i=t.dataset.initialPos;if(i){const e=JSON.parse(i);t.style.top=e.top,t.style.left=e.left}},this.handleWindowResize=()=>{this.dockedEl.forEach(e=>{e.style.top=`${window.innerHeight-this.dragBarHeight-20}px`})},this.parentEl=document.querySelector("#main"),this.parentEl.addEventListener("toggleminimize",e=>{e.target.minimized?this.handleMinimize(e):this.handleMaximize(e)}),window.addEventListener("resize",this.handleWindowResize)}}class t{constructor(e,t,i,a){this.moveToTop=e=>{s.openApps.forEach((e,t)=>{e.style.zIndex="1"}),s.openApps.get(e).style.zIndex="2",s.activeApp=e},this.appID=e,this.parentEl=a,this.applicationEl=document.createElement(t),this.paneWrapperEl=document.createElement("drag-pane"),this.paneWrapperEl.heading=i,this.paneWrapperEl.id=e,this.paneWrapperEl.className="app-pane"}openApp(){var e;s.openApps.has(this.appID)?null===(e=s.openApps.get(this.appID))||void 0===e||e.toggleMinimized():(this.paneWrapperEl.appendChild(this.applicationEl),this.parentEl.appendChild(this.paneWrapperEl),s.openApps.set(this.appID,this.paneWrapperEl),s.activeApp=this.appID,this.paneWrapperEl.addEventListener("remove",()=>{s.openApps.delete(this.appID)},{once:!0}),this.paneWrapperEl.addEventListener("click",()=>{s.activeApp!==this.appID&&s.openApps.size>1&&this.moveToTop(this.appID)}))}}var i;!function(e){e.MINESWEEPER="ms-app",e.CLOCK="clock-app"}(i||(i={}));class s{constructor(){this.handleIconDblClick=e=>{const t=e.currentTarget.dataset.appName;switch(t){case"ms-app":this.msApp.openApp();break;case"clock-app":this.clockApp.openApp();break;default:console.log(t)}},this.iconRef=document.querySelectorAll(".click-icon"),this.parentEl=document.querySelector("#main"),this.iconRef.forEach(e=>{e.addEventListener("dblclick",this.handleIconDblClick)}),this.msApp=new t(i.MINESWEEPER,"minesweeper-game","Minesweeper",this.parentEl),this.msApp.applicationEl.width=10,this.msApp.applicationEl.height=10,this.msApp.applicationEl.scale=.6,this.clockApp=new t(i.CLOCK,"date-clock","Clock",this.parentEl)}openMsApp(){}}s.openApps=new Map,s.activeApp=void 0;class a{constructor(){this.is24Hr=!0,this.monthFormat="short",this.dayNames=new Map([[0,"Sunday"],[1,"Monday"],[2,"Tuesday"],[3,"Wednesday"],[4,"Thursday"],[5,"Friday"],[6,"Saturday"]]),this.monthNames=new Map([[0,{long:"January",short:"Jan"}],[1,{long:"February",short:"Feb"}],[2,{long:"March",short:"Mar"}],[3,{long:"April",short:"Apr"}],[4,{long:"May",short:"May"}],[5,{long:"June",short:"Jun"}],[6,{long:"July",short:"Jul"}],[7,{long:"August",short:"Aug"}],[8,{long:"September",short:"Sep"}],[9,{long:"October",short:"Oct"}],[10,{long:"November",short:"Nov"}],[10,{long:"December",short:"Dec"}]]),this.el=document.querySelector("#header-clock"),this.setDateTime(),window.setInterval(()=>this.setDateTime(),1e3)}buildDateTime(){const e=new Date,t=this.dayNames.get(e.getDay()),i=e.getDate();return`${t} ${this.monthNames.get(e.getMonth())[this.monthFormat]} ${i} ${(this.is24Hr?e.getHours():e.getHours()%12).toString()}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}setDateTime(){this.el.innerText=this.buildDateTime()}}const p=()=>{new e,new s,new a};export{p as initializeViewControllers};
//# sourceMappingURL=index.js.map
